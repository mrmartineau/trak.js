/*!  v0.2.0 | (c) 2014 @mrmartineau | https://github.com/tmwagency/trak.js */
function trak(){"use strict";function a(){var a=JSON.parse(this.getAttribute("data-trak"));var b=d.call(this,a.category);var c=d.call(this,a.action);var e=d.call(this,a.label);trak.event(b,c,e)}var b=document.querySelectorAll("[data-trak]");for(var c=0;c<b.length;c++){if(b[c].addEventListener){b[c].addEventListener("click",a,true)}else if(b[c].attachEvent){b[c].attachEvent("onclick",a)}}function d(a){var b;switch(a){case"page.title":b=document.title;break;case"page.href":b=window.location.href;break;case"link.href":b=this.href;break;case"link.title":b=this.title;break;case"referrer":b=document.referrer?document.referrer:"No referrer";break;default:b=a;break}return b}}trak.clean=function(a){if(!trak.options.clean){return a}else{return a.toString().replace(/\s|'|"/g,this.options.delimeter).toLowerCase()}};trak.event=function(a,b,c,d,e,f){d=d||0;e=e||false;f=f||false;if(trak.options.trackType==="ga"&&typeof ga!=="undefined"){ga("send","event",trak.clean(a),trak.clean(b),trak.clean(c),d,{nonInteraction:e});if(trak.options.debug){console.log("ga event fired")}}else if(trak.options.trackType==="_gaq"&&typeof _gaq!=="undefined"){_gaq.push(["_trackEvent",trak.clean(a),trak.clean(b),trak.clean(c),d]);if(trak.options.debug){console.log("_gaq event fired")}}else if(trak.options.trackType==="gtm"&&typeof dataLayer!=="undefined"){dataLayer.push({event:f,eventCategory:trak.clean(a),eventAction:trak.clean(b),eventLabel:trak.clean(c),eventValue:d});if(trak.options.debug){console.log("gtm event fired")}}trak.options.additionalTypes();if(trak.options.debug){console.log("Debug:\n Category:",trak.clean(a),"\n Action:",trak.clean(b),"\n Label:",trak.clean(c),"\n GTM Event name:",f)}};trak.options={clean:true,delimeter:"_",trackType:"ga",additionalTypes:undefined,debug:true};